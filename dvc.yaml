stages:
  analyze:
    cmd: calkit xenv -n main -- Rscript R/analyze.R
    deps:
      - R/analyze.R
      - data/raw/data.csv
      - renv.lock
    outs:
      - output/analysis_results.rds:
          cache: false
          persist: false
      - data/processed/data.csv:
          cache: false
          persist: false
    desc: Automatically generated from the 'analyze' stage in calkit.yaml.
      Changes made here will be overwritten.
  plot:
    cmd: calkit xenv -n main -- Rscript R/plot.R
    deps:
      - R/plot.R
      - data/processed/data.csv
      - renv.lock
    outs:
      - figures/boxplot.pdf:
          cache: false
          persist: false
      - figures/timeseries.pdf:
          cache: false
          persist: false
    desc: Automatically generated from the 'plot' stage in calkit.yaml.
      Changes made here will be overwritten.
  render-paper:
    cmd: calkit xenv -n quarto --no-check -- bash --noprofile --norc -c
      "quarto render paper.qmd"
    deps:
      - paper.qmd
      - references.bib
      - figures/boxplot.pdf
      - figures/timeseries.pdf
      - output/analysis_results.rds
      - .calkit/envs/quarto/uv.lock
    outs:
      - paper.pdf
    desc: Automatically generated from the 'render-paper' stage in calkit.yaml.
      Changes made here will be overwritten.
